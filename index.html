<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Word Wolfï¼ˆå€‹åˆ¥URLé…å¸ƒï¼‰</title>
  <style>
    body {
      margin: 0;
      font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
      background: #0b0c10;
      color: #eaf0ff;
    }
    .wrap {
      max-width: 900px;
      margin: 0 auto;
      padding: 24px;
    }
    h1 { font-size: 26px; margin-bottom: 10px; }
    .card {
      background: #141824;
      border: 1px solid #27304a;
      border-radius: 14px;
      padding: 16px;
      margin-bottom: 16px;
    }
    label { display:block; margin-top:10px; }
    input, select, button {
      width:100%;
      margin-top:6px;
      padding:10px;
      border-radius:10px;
      border:1px solid #2b3757;
      background:#0f1320;
      color:#eaf0ff;
    }
    button { font-weight:bold; cursor:pointer; }
    .pill {
      display:inline-block;
      padding:4px 10px;
      border-radius:999px;
      background:#1e2a49;
      font-size:12px;
      margin-right:6px;
    }
    .big { font-size:28px; font-weight:800; margin:12px 0; }
  </style>
</head>
<body>
<div class="wrap">

<h1>ğŸº Word Wolfï¼ˆå€‹åˆ¥URLé…å¸ƒï¼‰</h1>

<div id="host" class="card">
  <h2>å¸ä¼šç”»é¢</h2>

  <label>å‚åŠ äººæ•°</label>
  <input id="players" type="number" min="2" max="10" value="5">

  <label>ãŠé¡Œãƒšã‚¢</label>
  <select id="pair"></select>

  <button onclick="generate()">ğŸ´ å€‹åˆ¥URLã‚’ç”Ÿæˆ</button>

  <div id="links"></div>
</div>

<div id="card" class="card" style="display:none;">
  <h2>ã‚ãªãŸã®ã‚«ãƒ¼ãƒ‰</h2>
  <div class="big" id="role"></div>
  <div class="big" id="topic"></div>
</div>

</div>

<script>
const PAIRS = [
  { citizen:"ãŠæ­£æœˆ", wolf:"ä¼‘æ—¥" },
  { citizen:"åˆè©£", wolf:"ãŠå‚ã‚Š" },
  { citizen:"ãŠå¹´ç‰", wolf:"ãƒœãƒ¼ãƒŠã‚¹" },
  { citizen:"æ­£æœˆå¤ªã‚Š", wolf:"é£Ÿã¹éã" },
  { citizen:"æ–°å¹´ã®ç›®æ¨™", wolf:"ã‚„ã‚ŠãŸã„ã“ã¨" },

  { citizen:"å¥½ããªäºº", wolf:"æ°—ã«ãªã‚‹äºº" },
  { citizen:"å‘Šç™½", wolf:"ãƒ—ãƒ­ãƒãƒ¼ã‚º" },
  { citizen:"ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚­ã‚¹", wolf:"åˆä½“é¨“" },
  { citizen:"æ‹äººã«ã—ãŸã„ã‚¿ã‚¤ãƒ—", wolf:"çµå©šã—ãŸã„ã‚¿ã‚¤ãƒ—" },
  { citizen:"å®‰å¿ƒã§ãã‚‹äºº", wolf:"åˆºæ¿€çš„ãªäºº" },

  { citizen:"é»’æ­´å²", wolf:"ãƒˆãƒ©ã‚¦ãƒ" },
  { citizen:"å¯‚ã—ã„ã“ã¨", wolf:"æ‚”ã—ã„ã“ã¨" },
  { citizen:"æ™®é€š", wolf:"ç•°å¸¸" },
  { citizen:"äººç”Ÿã¨ã¯", wolf:"å¤¢ã¨ã¯" },
  { citizen:"ç‰‡æ€ã„", wolf:"ã‚¹ãƒˆãƒ¼ã‚«ãƒ¼" }
];

const q = new URLSearchParams(location.search);
const card = q.get("card");

if (card) {
  document.getElementById("host").style.display="none";
  document.getElementById("card").style.display="block";
  const data = JSON.parse(atob(card));
  document.getElementById("role").textContent =
    data.role === "WOLF" ? "ğŸº ã‚¦ãƒ«ãƒ•" : "ğŸ‘¤ å¸‚æ°‘";
  document.getElementById("topic").textContent = data.topic;
} else {
  const sel = document.getElementById("pair");
  PAIRS.forEach((p,i)=>{
    const o=document.createElement("option");
    o.value=i;
    o.textContent=`${p.citizen} / ${p.wolf}`;
    sel.appendChild(o);
  });
}

function generate(){
  const n = Number(document.getElementById("players").value);
  const pair = PAIRS[document.getElementById("pair").value];
  const roles = Array(n).fill("CITIZEN");
  roles[Math.floor(Math.random()*n)]="WOLF";

  const links = document.getElementById("links");
  links.innerHTML="";

  roles.forEach((r,i)=>{
    const data = {
      role:r,
      topic: r==="WOLF"?pair.wolf:pair.citizen
    };
    const url = location.origin+location.pathname+
      "?card="+btoa(JSON.stringify(data));
    const div=document.createElement("div");
    div.textContent=`Player${i+1}: ${url}`;
    links.appendChild(div);
  });
}
</script>

</body>
</html>
